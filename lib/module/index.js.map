{"version":3,"sources":["index.tsx"],"names":["NativeModules","Platform","SharedPreferences","isFloat","n","Number","SharedPreferencesImpl","setBool","key","value","setFloat","Error","OS","toString","setInt","isInteger","setString","setJSON","JSON","stringify","synchronize","getBool","getFloat","parseFloat","getInt","getString","defaultValue","getJSON","parse","getKeys","getAll","sharedPreferences"],"mappings":"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","sourcesContent":["import {NativeModules, Platform} from 'react-native'\n\ninterface SharedPreferencesType {\n  setInt(key: string, value: number): void\n  setString(key: string, value: string): void\n  setJSON(key: string, value: object): void\n  setFloat(key: string, value: number): void\n  setBool(key: string, value: boolean): void\n  synchronize(): void\n\n  getInt(key: string): Promise<number>\n  getString(key: string, defaultValue: string): Promise<string>\n  getJSON(key: string, defaultValue: object): Promise<object>\n  getFloat(key: string): Promise<number>\n  getBool(key: string): Promise<boolean>\n  getKeys(): Promise<Array<string>>\n  getAll(defaultValue: object): Promise<any>\n}\n\nconst {SharedPreferences} = NativeModules\n\nconst isFloat = (n: any) => {\n  return Number(n) === n && n % 1 !== 0\n}\n\nclass SharedPreferencesImpl implements SharedPreferencesType {\n  setBool(key: string, value: boolean): void {\n    SharedPreferences.setBool(key, value)\n  }\n\n  setFloat(key: string, value: number): void {\n    if (value !== 0 && !isFloat(value))\n      throw new Error(`Passed value: ${value} is not double type`)\n    if (Platform.OS === 'android') {\n      SharedPreferences.setFloat(key, value.toString())\n      return\n    }\n    SharedPreferences.setFloat(key, value)\n  }\n\n  setInt(key: string, value: number): void {\n    if (!Number.isInteger(value))\n      throw new Error(`Passed value: ${value} is not integer type`)\n    SharedPreferences.setInt(key, value)\n  }\n\n  setString(key: string, value: string): void {\n    SharedPreferences.setString(key, value)\n  }\n\n  setJSON(key: string, value: object) {\n    SharedPreferences.setString(key, JSON.stringify(value))\n  }\n\n  synchronize() {\n    SharedPreferences.synchronize()\n  }\n\n  getBool(key: string): Promise<boolean> {\n    return SharedPreferences.getBool(key)\n  }\n\n  async getFloat(key: string): Promise<number> {\n    if (Platform.OS === 'android') {\n      return parseFloat(await SharedPreferences.getFloat(key))\n    }\n    return SharedPreferences.getFloat(key)\n  }\n\n  getInt(key: string): Promise<number> {\n    return SharedPreferences.getInt(key)\n  }\n\n  async getString(key: string, defaultValue: string): Promise<string> {\n    const value = await SharedPreferences.getString(key)\n    if (!value) return defaultValue\n    return value\n  }\n\n  async getJSON(key: string, defaultValue: object): Promise<object> {\n    const value = await SharedPreferences.getString(key)\n    if (!value) return defaultValue\n    return JSON.parse(value)\n  }\n\n  getKeys(): Promise<Array<string>> {\n    return SharedPreferences.getKeys()\n  }\n\n  async getAll(defaultValue: object): Promise<any> {\n    const value = await SharedPreferences.getAll()\n    if (!value) return defaultValue\n    return value\n  }\n}\n\nexport const sharedPreferences =\n  new SharedPreferencesImpl() as SharedPreferencesType\n"]}